#| message: false
#| warning: false
library("sf")
library("tidyverse")
library("wesanderson") #color palettes
# also: https://www.colourlovers.com/palette/323660/Andy_Warhols_Colors
knitr::opts_chunk$set(echo = TRUE)
# load shape file(s)
# https://www.naturalearthdata.com/downloads/50m-cultural-vectors/50m-admin-0-countries-2/
countries_shp <- st_read("../data/ne_50m_admin_0_countries/ne_50m_admin_0_countries.shp")
View(countries_shp)
# load data file
borders_df <- readr::read_csv("GEODATASOURCE-COUNTRY-BORDERS.CSV")
# find islands (i.e. no land borders)
islands_df <- borders_df |>
filter(is.na(country_border_code))
View(islands_df)
filter(is.na(country_border_name) #for some reason, Nambia was a special case
# find islands (i.e. no land borders)
islands_df <- borders_df |>
# find islands (i.e. no land borders)
islands_df <- borders_df |>
filter(is.na(country_border_code)) |>
filter(is.na(country_border_name)) #for some reason, Nambia was a special case
View(islands_df)
?left_join
countries_df <- islands_df |>
inner_join(countries_shp, by = c("country_name" = "SOVEREIGNT"))
View(countries_df)
# plot 1 (of 4)
lon <- 0
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p1 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
p1
countries_df <- countries_shp |>
right_join(islands_df, by = c("SOVEREIGNT" = "country_name"))
View(countries_df)
# plot 1 (of 4)
lon <- 0
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p1 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
p1
#| message: false
#| warning: false
library("sf")
library("tidyverse")
library("wesanderson") #color palettes
# also: https://www.colourlovers.com/palette/323660/Andy_Warhols_Colors
knitr::opts_chunk$set(echo = TRUE)
# load shape file(s)
# https://www.naturalearthdata.com/downloads/50m-cultural-vectors/50m-admin-0-countries-2/
countries_shp <- st_read("../data/ne_50m_admin_0_countries/ne_50m_admin_0_countries.shp")
# load data file
borders_df <- readr::read_csv("GEODATASOURCE-COUNTRY-BORDERS.CSV")
# find islands (i.e. no land borders)
islands_df <- borders_df |>
filter(is.na(country_border_code)) |>
filter(is.na(country_border_name)) #for some reason, Nambia was a special case
countries_df <- countries_shp |>
right_join(islands_df, by = c("SOVEREIGNT" = "country_name"))
# plot 1 (of 4)
lon <- 0
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p1 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
# plot 2 (of 4)
lon <- 90
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p2 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#77CC62"),
panel.grid.minor = element_blank())
# plot 3 (of 4)
lon <- 180
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p3 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#5280C7"),
panel.grid.minor = element_blank())
# plot 4 (of 4)
lon <- -90
coord_string <- paste0("+proj=laea +lat_0=0 +lon_0=",
lon, " +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs")
p4 <- countries_df %>%
mutate(map_color = factor(MAPCOLOR7,
levels = 1:7)) %>%
ggplot() +
geom_sf(aes(fill = map_color)) +
coord_sf(crs = coord_string) +
scale_fill_manual(values = wes_palette(7, name = "Zissou1",
type = "continuous")) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#F0D848"),
panel.grid.minor = element_blank())
ggsave(p1, filename = "p1.png", device = "png")
ggsave(p2, filename = "p2.png", device = "png")
ggsave(p3, filename = "p3.png", device = "png")
ggsave(p4, filename = "p4.png", device = "png")
#| message: false
#| warning: false
library("sf")
library("tidyverse")
knitr::opts_chunk$set(echo = TRUE)
# load shape file(s)
# https://data.cnra.ca.gov/dataset/national-hydrography-dataset-nhd
rivers_shp <- st_read("../data/major_rivers_and_creeks/Major_Rivers_and_Creeks.shp")
# load shape file(s)
# https://data.cnra.ca.gov/dataset/national-hydrography-dataset-nhd
rivers_shp <- st_read("data/major_rivers_and_creeks/Major_Rivers_and_Creeks.shp")
rivers_shp %>%
ggplot() +
geom_sf() +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
View(rivers_shp)
# drop Z?
rivers_shp_2 <- st_zm(rivers_shp)
rivers_shp_2 %>%
ggplot() +
geom_sf() +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
rivers_shp_2 %>%
sample_n(100) |>
ggplot() +
geom_sf(aes()) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
rivers_shp_2 %>%
sample_n(1000) |>
ggplot() +
geom_sf(aes()) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
rivers_shp_2 %>%
sample_n(10000) |>
ggplot() +
geom_sf(aes()) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
rivers_subset <- rivers_shp_2 |> sample_n(100)
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "#FA8C82"),
panel.grid.minor = element_blank())
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
rivers_subset <- rivers_shp_2 |> sample_n(1000)
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
View(rivers_subset)
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
geom_text(aes(label = gnis_name)) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
geom_sf_label(aes(label = gnis_name)) +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
geom_sf_label(aes(label = gnis_name)) +
labs(title = "Calfornia Rivers",
subtitle = "Map FAILbruary Challenge\nDay 2: In a Hurry",
caption = "Data Source: National Hydrography Dataset") +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
rivers_subset |>
ggplot() +
geom_sf(color = "blue") +
geom_sf_label(aes(label = gnis_name)) +
labs(title = "Calfornia Rivers and Creeks",
subtitle = "Map FAILbruary Challenge\nDay 2: In a Hurry",
caption = "Data Source: National Hydrography Dataset") +
theme(legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.minor = element_blank())
